<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NA MO</title>
    <!-- Font Awesome CDN -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #000000;
            color: #ffffff;
            overflow-x: hidden;
            line-height: 1.6;
        }

        .section {
            min-height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 80px 40px;
        }

        /* Enhanced Background */
        .hero-section {
            background:
                radial-gradient(circle at 20% 80%, rgba(25, 118, 210, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(66, 165, 245, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(13, 71, 161, 0.1) 0%, transparent 50%),
                linear-gradient(135deg, #000814 0%, #001d3d 50%, #003566 100%);
            position: relative;
        }

        .matrix-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(25, 118, 210, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(25, 118, 210, 0.03) 1px, transparent 1px),
                linear-gradient(rgba(66, 165, 245, 0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(66, 165, 245, 0.02) 1px, transparent 1px);
            background-size: 100px 100px, 100px 100px, 20px 20px, 20px 20px;
            animation: matrixFlow 20s linear infinite;
        }

        .cyber-lines {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .cyber-line {
            position: absolute;
            height: 1px;
            background: linear-gradient(90deg, transparent 0%, #1976d2 50%, transparent 100%);
            animation: scanLine 8s ease-in-out infinite;
        }

        .cyber-line:nth-child(1) {
            top: 20%;
            width: 60%;
            animation-delay: 0s;
        }

        .cyber-line:nth-child(2) {
            top: 60%;
            width: 80%;
            animation-delay: 3s;
        }

        .cyber-line:nth-child(3) {
            top: 80%;
            width: 40%;
            animation-delay: 6s;
        }

        /* Hero Content */
        .hero-content {
            z-index: 10;
            position: relative;
            text-align: center;
            max-width: 1200px;
            width: 100%;
        }

        .profile-container {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 60px;
            flex-direction: column;
            gap: 40px;
        }

        .profile-avatar {
            width: 180px;
            height: 180px;
            border-radius: 20px;
            background: linear-gradient(135deg, #1976d2, #42a5f5, #90caf9);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            position: relative;
            margin: 0 auto 40px;
            transform: rotate(-5deg);
            animation: profileFloat 6s ease-in-out infinite;
            object-fit: cover;
        }

        .profile-avatar::before {
            content: '';
            position: absolute;
            top: -3px;
            left: -3px;
            right: -3px;
            bottom: -3px;
            border-radius: 20px;
            background: linear-gradient(45deg, #1976d2, #42a5f5, #1976d2, #42a5f5);
            z-index: -1;
            animation: borderGlow 4s linear infinite;
        }

        .main-title {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #ffffff 0%, #64b5f6 50%, #1976d2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: titlePulse 3s ease-in-out infinite alternate;
        }

        .subtitle {
            font-size: 1.8rem;
            color: #42a5f5;
            margin-bottom: 20px;
            font-weight: 300;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        /* Info Grid */
        .info-grid {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 60px;
            margin-bottom: 60px;
            align-items: start;
        }

        .skills-section {
            text-align: left;
        }

        .section-title {
            font-size: 2rem;
            color: #ffffff;
            margin-bottom: 30px;
            position: relative;
            padding-bottom: 10px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, #1976d2, #42a5f5);
        }

        .skills-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .skill-category {
            background: rgba(25, 118, 210, 0.1);
            border: 1px solid rgba(25, 118, 210, 0.3);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .skill-category:hover {
            background: rgba(25, 118, 210, 0.2);
            border-color: #42a5f5;
            transform: translateY(-5px);
        }

        .skill-category h4 {
            color: #64b5f6;
            margin-bottom: 15px;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .skill-category h4 i {
            font-size: 1.2rem;
        }

        .skill-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .skill-tag {
            background: rgba(66, 165, 245, 0.2);
            color: #90caf9;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            border: 1px solid rgba(66, 165, 245, 0.3);
        }

        /* Gaming Section */
        .gaming-section {
            background: rgba(25, 118, 210, 0.1);
            border: 1px solid rgba(25, 118, 210, 0.3);
            border-radius: 20px;
            padding: 40px;
            backdrop-filter: blur(10px);
            margin-bottom: 40px;
            transition: all 0.3s ease;
        }

        .gaming-section:hover {
            background: rgba(25, 118, 210, 0.15);
            border-color: #42a5f5;
            transform: translateY(-2px);
        }

        .gaming-title {
            color: #64b5f6;
            font-size: 1.5rem;
            margin-bottom: 25px;
            text-align: center;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .games-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
            gap: 20px;
            justify-items: center;
        }

        .game-logo {
            width: 80px;
            height: 80px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .game-logo:hover {
            transform: translateY(-8px) scale(1.1);
            border-color: #42a5f5;
            box-shadow: 0 15px 35px rgba(66, 165, 245, 0.5);
        }

        .game-logo img {
            width: 65px;
            height: 65px;
            border-radius: 12px;
            object-fit: cover;
        }

        /* Discord Widget Container */
        .discord-container {
            background: rgba(88, 101, 242, 0.1);
            border: 2px solid rgba(88, 101, 242, 0.3);
            border-radius: 20px;
            padding: 20px;
            backdrop-filter: blur(15px);
            animation: discordGlow 4s ease-in-out infinite alternate;
        }

        .discord-title {
            color: #5865f2;
            font-size: 1.3rem;
            margin-bottom: 15px;
            text-align: center;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .discord-widget {
            border-radius: 15px;
            overflow: hidden;
            width: 100%;
            height: 500px;
        }

        /* Contact Grid */
        .contact-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .contact-item {
            background: rgba(25, 118, 210, 0.1);
            border: 1px solid rgba(25, 118, 210, 0.3);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .contact-item:hover {
            background: rgba(25, 118, 210, 0.2);
            border-color: #42a5f5;
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(25, 118, 210, 0.3);
        }

        .contact-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
            color: #64b5f6;
        }

        .contact-label {
            font-size: 1rem;
            color: #90caf9;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .contact-value {
            font-size: 1.1rem;
            color: #ffffff;
            font-weight: 500;
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, rgba(0, 8, 20, 0.95) 0%, rgba(0, 29, 61, 0.95) 100%);
            border-top: 2px solid;
            border-image: linear-gradient(90deg, transparent 0%, #1976d2 20%, #42a5f5 50%, #1976d2 80%, transparent 100%) 1;
            padding: 60px 0 30px;
            margin-top: 60px;
            backdrop-filter: blur(15px);
            position: relative;
            overflow: hidden;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 40px;
            text-align: center;
            position: relative;
            z-index: 2;
        }

        .footer-brand {
            font-size: 2.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #64b5f6 50%, #1976d2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 15px;
        }

        .footer-tagline {
            color: #90caf9;
            font-size: 1.2rem;
            margin-bottom: 40px;
            font-style: italic;
            font-weight: 300;
            letter-spacing: 1px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        /* Music Player */
        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 320px;
            background: rgba(0, 8, 20, 0.95);
            border: 2px solid rgba(25, 118, 210, 0.4);
            border-radius: 20px;
            backdrop-filter: blur(20px);
            overflow: hidden;
            z-index: 1000;
            transform: translateY(100%);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.6);
        }

        .music-player.active {
            transform: translateY(0);
        }

        .music-player-header {
            background: linear-gradient(135deg, rgba(25, 118, 210, 0.2) 0%, rgba(66, 165, 245, 0.2) 100%);
            padding: 15px 20px;
            border-bottom: 1px solid rgba(25, 118, 210, 0.3);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .music-player-title {
            color: #64b5f6;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .music-toggle-btn {
            background: none;
            border: none;
            color: #90caf9;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
        }

        .music-toggle-btn:hover {
            background: rgba(25, 118, 210, 0.3);
            color: #ffffff;
        }

        .music-player-content {
            padding: 20px;
        }

        .music-current-track {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .music-album-art {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            background: linear-gradient(135deg, #1976d2, #42a5f5);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            animation: musicAlbumSpin 10s linear infinite;
            color: #ffffff;
        }

        .music-album-art.paused {
            animation-play-state: paused;
        }

        .music-track-info {
            flex: 1;
        }

        .music-track-name {
            color: #ffffff;
            font-weight: 600;
            font-size: 0.95rem;
            margin-bottom: 2px;
        }

        .music-track-artist {
            color: #90caf9;
            font-size: 0.8rem;
        }

        .music-controls {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }

        .music-control-btn {
            background: none;
            border: none;
            color: #64b5f6;
            font-size: 1.5rem;
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
        }

        .music-control-btn:hover {
            background: rgba(25, 118, 210, 0.3);
            color: #ffffff;
            transform: scale(1.1);
        }

        .music-control-btn.play-pause {
            background: linear-gradient(135deg, #1976d2, #42a5f5);
            color: #ffffff;
            font-size: 1.8rem;
            padding: 12px;
            width: 48px;
            height: 48px;
        }

        .music-control-btn.play-pause:hover {
            background: linear-gradient(135deg, #1565c0, #1976d2);
            transform: scale(1.1);
        }

        /* Auto-play notification */
        .autoplay-notice {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(25, 118, 210, 0.95);
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            z-index: 10001;
            font-size: 14px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(66, 165, 245, 0.3);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            animation: slideDown 0.5s ease;
            text-align: center;
            min-width: 350px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .autoplay-notice:hover {
            background: rgba(25, 118, 210, 1);
            transform: translateX(-50%) scale(1.02);
        }

        .autoplay-notice.success {
            background: rgba(76, 175, 80, 0.95);
        }

        .autoplay-notice.error {
            background: rgba(244, 67, 54, 0.95);
        }

        /* Animations */
        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(-100%);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        @keyframes matrixFlow {
            0% { transform: translateY(0px); }
            100% { transform: translateY(-100px); }
        }

        @keyframes scanLine {
            0%, 100% { opacity: 0; transform: translateX(-100%); }
            50% { opacity: 1; transform: translateX(100%); }
        }

        @keyframes profileFloat {
            0%, 100% { transform: rotate(-5deg) translateY(0px); }
            50% { transform: rotate(-5deg) translateY(-15px); }
        }

        @keyframes borderGlow {
            0% { opacity: 0.5; }
            50% { opacity: 1; }
            100% { opacity: 0.5; }
        }

        @keyframes titlePulse {
            0% { text-shadow: 0 0 20px rgba(100, 181, 246, 0.5); }
            100% { text-shadow: 0 0 30px rgba(100, 181, 246, 0.8), 0 0 40px rgba(25, 118, 210, 0.3); }
        }

        @keyframes discordGlow {
            0% { box-shadow: 0 0 20px rgba(88, 101, 242, 0.3); }
            100% { box-shadow: 0 0 30px rgba(88, 101, 242, 0.6); }
        }

        @keyframes musicAlbumSpin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .info-grid {
                grid-template-columns: 1fr;
                gap: 40px;
            }
            .discord-widget {
                height: 400px;
            }
            .music-player {
                width: 300px;
            }
        }

        @media (max-width: 768px) {
            .section {
                padding: 40px 20px;
            }
            .main-title {
                font-size: 2.5rem;
            }
            .subtitle {
                font-size: 1.3rem;
            }
            .skills-grid {
                grid-template-columns: 1fr;
            }
            .contact-grid {
                grid-template-columns: 1fr;
            }
            .music-player {
                width: 280px;
                bottom: 10px;
                right: 10px;
            }
        }
    </style>
</head>

<body>
    <div class="section hero-section">
        <div class="matrix-bg"></div>
        <div class="cyber-lines">
            <div class="cyber-line"></div>
            <div class="cyber-line"></div>
            <div class="cyber-line"></div>
        </div>

        <div class="hero-content">
            <!-- Profile Section -->
            <div class="profile-container">
                <img class="profile-avatar" src="img/avatar.jpg" alt="Profile Avatar">
                <h1 class="main-title">NA MO</h1>
                <p class="subtitle">Bababababaababab</p>
            </div>

            <!-- Info Grid -->
            <div class="info-grid">
                <!-- Skills Section -->
                <div class="skills-section">
                    <h2 class="section-title">Technical Skills</h2>
                    <div class="skills-grid">
                        <div class="skill-category">
                            <h4>
                                <i class="fab fa-react"></i>
                                Frontend Development
                            </h4>
                            <div class="skill-tags">
                                <span class="skill-tag">React</span>
                                <span class="skill-tag">Next.js</span>
                                <span class="skill-tag">Tailwind CSS</span>
                                <span class="skill-tag">TypeScript</span>
                            </div>
                        </div>

                        <div class="skill-category">
                            <h4>
                                <i class="fas fa-server"></i>
                                Backend Development
                            </h4>
                            <div class="skill-tags">
                                <span class="skill-tag">Node.js</span>
                                <span class="skill-tag">Express</span>
                                <span class="skill-tag">Python</span>
                                <span class="skill-tag">MongoDB</span>
                            </div>
                        </div>
                    </div>

                    <!-- Gaming Section -->
                    <div class="gaming-section">
                        <div class="gaming-title">
                            <i class="fas fa-gamepad"></i>
                            Favorite Games
                        </div>
                        <div class="games-grid">
                            <div class="game-logo">
                                <img src="https://kb.dexserver.com/wp-content/uploads/2023/07/image.png" alt="Fivem">
                            </div>
                            <div class="game-logo">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/9/9a/Free_fire.jpg" alt="Free Fire">
                            </div>
                            <div class="game-logo">
                                <img src="https://play-lh.googleusercontent.com/7cIIPlWm4m7AGqVpEsIfyL-HW4cQla4ucXnfalMft1TMIYQIlf2vqgmthlZgbNAQoaQ=s48-rw" alt="Free Fire">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Discord Widget -->
                <div class="discord-container">
                    <div class="discord-title">
                        Discord Community
                    </div>
                    <iframe class="discord-widget" src="https://discordapp.com/widget?id=1363220296844448005&theme=dark"
                        allowtransparency="true" frameborder="0"
                        sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts">
                    </iframe>
                </div>
            </div>

            <!-- Contact Section -->
            <div class="contact-grid">
                <div class="contact-item">
                    <i class="fab fa-instagram contact-icon"></i>
                    <div class="contact-label">INSTAGRAM</div>
                    <div class="contact-value">thanawat__3333</div>
                </div>

                <div class="contact-item">
                    <i class="fab fa-youtube contact-icon"></i>
                    <div class="contact-label">Youtube</div>
                    <div class="contact-value">@dopoelinex</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">NA MO</div>
            <div class="footer-tagline">
                <i class="fas fa-code"></i>
                "ไม่มีไรอ่ะ อิอิ"
            </div>
        </div>
    </footer>

    <!-- Music Player -->
    <div class="music-player" id="musicPlayer">
        <div class="music-player-header">
            <div class="music-player-title">
                <i class="fas fa-music"></i>
                Now Playing
            </div>
            <button class="music-toggle-btn" id="playerToggle">
                <i class="fas fa-minus"></i>
            </button>
        </div>
        <div class="music-player-content">
            <div class="music-current-track">
                <div class="music-album-art" id="albumArt">
                    <i class="fas fa-music"></i>
                </div>
                <div class="music-track-info">
                    <div class="music-track-name" id="trackName">Daylight</div>
                    <div class="music-track-artist" id="trackArtist">David Kushner</div>
                </div>
            </div>

            <div class="music-controls">
                <button class="music-control-btn" id="prevBtn">
                    <i class="fas fa-step-backward"></i>
                </button>
                <button class="music-control-btn play-pause" id="playBtn">
                    <i class="fas fa-play"></i>
                </button>
                <button class="music-control-btn" id="nextBtn">
                    <i class="fas fa-step-forward"></i>
                </button>
            </div>
        </div>
    </div>

    <script>
        class AutoMusicPlayer {
            constructor() {
                this.audio = null;
                this.isPlaying = false;
                this.isInitialized = false;
                this.initAttempts = 0;
                this.maxInitAttempts = 5;
                
                // ปรับ path ของเพลงตามที่คุณต้องการ
                this.musicFiles = [
                    '/song/Daylight.mp3',
                    "/song/See_You_Again.mp3"
                    // สามารถเพิ่มเพลงอื่นๆ ได้
                ];
                this.currentTrackIndex = 0;
                
                this.initializePlayer();
            }

            async initializePlayer() {
                try {
                    // สร้าง Audio element
                    this.audio = new Audio(this.musicFiles[this.currentTrackIndex]);
                    this.audio.loop = false; // เปลี่ยนเป็น false เพื่อให้สามารถเล่นเพลงถัดไปได้
                    this.audio.volume = 0.3; // ตั้ง volume เบาๆ สำหรับ autoplay
                    this.audio.preload = 'auto';
                    
                    // Event listeners
                    this.audio.addEventListener('canplaythrough', () => {
                        console.log('🎵 Audio loaded successfully');
                        this.attemptAutoPlay();
                    });
                    
                    this.audio.addEventListener('ended', () => {
                        this.nextTrack();
                    });
                    
                    this.audio.addEventListener('error', (e) => {
                        console.error('❌ Audio error:', e);
                        this.showNotification('เกิดข้อผิดพลาดในการโหลดเพลง', 'error');
                        this.fallbackToSilentMode();
                    });
                    
                    // รอให้ DOM โหลดเสร็จก่อน
                    if (document.readyState === 'loading') {
                        document.addEventListener('DOMContentLoaded', () => this.setupUI());
                    } else {
                        this.setupUI();
                    }
                    
                } catch (error) {
                    console.error('Failed to initialize audio player:', error);
                    this.fallbackToSilentMode();
                }
            }

            fallbackToSilentMode() {
                // เมื่อไม่สามารถเล่นเพลงได้ ให้แสดง UI แต่ไม่เล่นเสียง
                console.log('🔇 Falling back to silent mode');
                this.setupUI();
                this.showNotification('เล่นเพลงไม่ได้ - ใช้งานโหมดเงียบ', 'error');
            }

            setupUI() {
                // Get DOM elements
                this.player = document.getElementById('musicPlayer');
                this.playBtn = document.getElementById('playBtn');
                this.prevBtn = document.getElementById('prevBtn');
                this.nextBtn = document.getElementById('nextBtn');
                this.playerToggle = document.getElementById('playerToggle');
                this.trackNameEl = document.getElementById('trackName');
                this.trackArtistEl = document.getElementById('trackArtist');
                this.albumArt = document.getElementById('albumArt');

                // Add event listeners
                if (this.playBtn) {
                    this.playBtn.addEventListener('click', () => this.togglePlay());
                }
                if (this.prevBtn) {
                    this.prevBtn.addEventListener('click', () => this.prevTrack());
                }
                if (this.nextBtn) {
                    this.nextBtn.addEventListener('click', () => this.nextTrack());
                }
                if (this.playerToggle) {
                    this.playerToggle.addEventListener('click', () => this.toggleMinimize());
                }

                // Show player
                this.showPlayer();
                
                // Update track info
                this.updateTrackInfo();
                
                // เริ่มพยายาม autoplay
                setTimeout(() => {
                    this.attemptAutoPlay();
                }, 2000);
            }

            showPlayer() {
                if (this.player) {
                    setTimeout(() => {
                        this.player.classList.add('active');
                    }, 1000);
                }
            }

            async attemptAutoPlay() {
                
                try {
                    if (this.audio) {
                        // พยายามเล่นทันที
                        await this.audio.play();
                        this.isPlaying = true;
                        this.updatePlayButton();
                        
                    }
                } catch (error) {
                    console.warn('⚠️ Autoplay blocked:', error.message);
                    this.setupUserInteractionPlay();
                }
            }

            setupUserInteractionPlay() {
                this.showNotification('คลิกที่ไหนก็ได้เพื่อเล่นเพลง', 'info');
                
                const startPlay = async () => {
                    try {
                        if (this.audio && !this.isPlaying) {
                            await this.audio.play();
                            this.isPlaying = true;
                            this.updatePlayButton();
                            this.showNotification('เริ่มเล่นเพลงแล้ว!', 'success');
                            
                            // Remove event listeners after successful play
                            document.removeEventListener('click', startPlay);
                            document.removeEventListener('touchstart', startPlay);
                            document.removeEventListener('keydown', startPlay);
                        }
                    } catch (error) {
                        console.error('Failed to play after interaction:', error);
                        this.showNotification('ไม่สามารถเล่นเพลงได้', 'error');
                    }
                };

                // Add multiple event listeners for different types of interaction
                document.addEventListener('click', startPlay, { once: true });
                document.addEventListener('touchstart', startPlay, { once: true });
                document.addEventListener('keydown', startPlay, { once: true });
            }

            async togglePlay() {
                if (!this.audio) {
                    this.showNotification('เพลงยังไม่พร้อม', 'error');
                    return;
                }

                try {
                    if (this.isPlaying) {
                        this.audio.pause();
                        this.isPlaying = false;
                        this.showNotification('หยุดเล่นเพลงชั่วคราว', 'info');
                    } else {
                        await this.audio.play();
                        this.isPlaying = true;
                        this.showNotification('เล่นเพลงต่อ', 'success');
                    }
                    this.updatePlayButton();
                } catch (error) {
                    console.error('Toggle play error:', error);
                    this.showNotification('เกิดข้อผิดพลาดในการเล่นเพลง', 'error');
                }
            }

            prevTrack() {
                this.currentTrackIndex = this.currentTrackIndex > 0 ? 
                    this.currentTrackIndex - 1 : 
                    this.musicFiles.length - 1;
                this.loadTrack();
            }

            nextTrack() {
                this.currentTrackIndex = (this.currentTrackIndex + 1) % this.musicFiles.length;
                this.loadTrack();
            }

            loadTrack() {
                if (!this.audio) return;
                
                const wasPlaying = this.isPlaying;
                
                // Stop current track
                this.audio.pause();
                this.audio.currentTime = 0;
                
                // Load new track
                this.audio.src = this.musicFiles[this.currentTrackIndex];
                this.updateTrackInfo();
                
                // Resume playing if was playing before
                if (wasPlaying) {
                    setTimeout(async () => {
                        try {
                            await this.audio.play();
                            this.isPlaying = true;
                            this.updatePlayButton();
                        } catch (error) {
                            console.error('Failed to play new track:', error);
                            this.isPlaying = false;
                            this.updatePlayButton();
                        }
                    }, 500);
                } else {
                    this.isPlaying = false;
                    this.updatePlayButton();
                }
            }

            updateTrackInfo() {
                // Extract track name from file path
                const fileName = this.musicFiles[this.currentTrackIndex].split('/').pop();
                const trackName = fileName.replace('.mp3', '').replace(/[-_]/g, ' ');
                
                if (this.trackNameEl) {
                    this.trackNameEl.textContent = trackName || 'Unknown Track';
                }
                if (this.trackArtistEl) {
                    this.trackArtistEl.textContent = 'Background Music';
                }
            }

            updatePlayButton() {
                if (this.playBtn) {
                    const playIcon = this.playBtn.querySelector('i');
                    if (playIcon) {
                        playIcon.className = this.isPlaying ? 'fas fa-pause' : 'fas fa-play';
                    }
                }
                
                if (this.albumArt) {
                    if (this.isPlaying) {
                        this.albumArt.classList.remove('paused');
                    } else {
                        this.albumArt.classList.add('paused');
                    }
                }
            }

            toggleMinimize() {
                if (!this.player) return;
                
                const content = this.player.querySelector('.music-player-content');
                const toggleIcon = this.playerToggle.querySelector('i');
                const isMinimized = this.player.classList.contains('minimized');
                
                if (isMinimized) {
                    this.player.classList.remove('minimized');
                    if (content) content.style.display = 'block';
                    this.player.style.width = '320px';
                    if (toggleIcon) toggleIcon.className = 'fas fa-minus';
                } else {
                    this.player.classList.add('minimized');
                    if (content) content.style.display = 'none';
                    this.player.style.width = '200px';
                    if (toggleIcon) toggleIcon.className = 'fas fa-expand';
                }
            }

            showNotification(message, type = 'info') {
                // Remove existing notification
                const existingNotice = document.querySelector('.autoplay-notice');
                if (existingNotice) {
                    existingNotice.remove();
                }

                const notice = document.createElement('div');
                notice.className = `autoplay-notice ${type}`;
                
                let icon = '';
                switch(type) {
                    case 'success':
                        icon = '<i class="fas fa-check-circle"></i>';
                        break;
                    case 'error':
                        icon = '<i class="fas fa-exclamation-circle"></i>';
                        break;
                    case 'info':
                        icon = '<i class="fas fa-music"></i>';
                        break;
                    default:
                        icon = '<i class="fas fa-info-circle"></i>';
                }
                
                notice.innerHTML = `
                    ${icon}
                    <span>${message}</span>
                `;
                
                // Add click to dismiss
                notice.addEventListener('click', () => {
                    notice.style.opacity = '0';
                    notice.style.transform = 'translateX(-50%) translateY(-100%)';
                    setTimeout(() => notice.remove(), 300);
                });
                
                document.body.appendChild(notice);

                // Auto remove after 4 seconds
                setTimeout(() => {
                    if (notice.parentNode) {
                        notice.style.opacity = '0';
                        notice.style.transform = 'translateX(-50%) translateY(-100%)';
                        setTimeout(() => {
                            if (notice.parentNode) {
                                notice.remove();
                            }
                        }, 300);
                    }
                }, 4000);
            }
        }

        // Initialize music player
        let musicPlayer = null;

        // เริ่มต้น music player ทันทีที่หน้าเว็บโหลด
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeMusicPlayer);
        } else {
            initializeMusicPlayer();
        }

        function initializeMusicPlayer() {
            console.log('🎵 Initializing Auto Music Player...');
            musicPlayer = new AutoMusicPlayer();
            
            // Add keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                // Don't trigger if user is typing in input fields
                if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                    return;
                }
                
                switch (e.key.toLowerCase()) {
                    case ' ':
                    case 'k':
                        e.preventDefault();
                        musicPlayer.togglePlay();
                        break;
                    case 'arrowleft':
                    case 'j':
                        e.preventDefault();
                        musicPlayer.prevTrack();
                        break;
                    case 'arrowright':
                    case 'l':
                        e.preventDefault();
                        musicPlayer.nextTrack();
                        break;
                    case 'm':
                        e.preventDefault();
                        musicPlayer.togglePlay(); // Toggle mute/play
                        break;
                }
            });
            
            // Show keyboard shortcuts info
            setTimeout(() => {
                const shortcutsInfo = document.createElement('div');
                shortcutsInfo.innerHTML = `
                    <div style="position: fixed; bottom: 10px; left: 10px; background: rgba(0,0,0,0.9); 
                                color: white; padding: 15px; border-radius: 15px; font-size: 12px; 
                                z-index: 999; backdrop-filter: blur(10px); border: 1px solid rgba(25, 118, 210, 0.3);
                                max-width: 250px;">
                        <strong><i class="fas fa-music"></i> Music Controls:</strong><br>
                        <div style="margin-top: 8px; line-height: 1.4;">
                            <div><i class="fas fa-keyboard"></i> Space/K: เล่น/หยุด</div>
                            <div><i class="fas fa-arrow-left"></i> ←/J: เพลงก่อนหน้า</div>
                            <div><i class="fas fa-arrow-right"></i> →/L: เพลงถัดไป</div>
                            <div><i class="fas fa-volume-mute"></i> M: เล่น/หยุด</div>
                        </div>
                    </div>
                `;
                document.body.appendChild(shortcutsInfo);

                // Hide shortcuts info after 6 seconds
                setTimeout(() => {
                    shortcutsInfo.style.opacity = '0';
                    shortcutsInfo.style.transition = 'opacity 0.5s';
                    setTimeout(() => shortcutsInfo.remove(), 500);
                }, 6000);
            }, 5000);
        }

        // Page visibility API to pause/resume music when tab is hidden/shown
        document.addEventListener('visibilitychange', () => {
            if (musicPlayer && musicPlayer.audio) {
                if (document.hidden) {
                    // Page is hidden, lower volume
                    if (musicPlayer.isPlaying) {
                        musicPlayer.audio.volume = 0.1;
                    }
                } else {
                    // Page is visible, restore volume
                    if (musicPlayer.isPlaying) {
                        musicPlayer.audio.volume = 0.3;
                    }
                }
            }
        });
    </script>
</body>

</html>
